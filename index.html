<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåû‚ùÑWeather</title>
</head>
<body>
<center>
    <div class="input">
        <input type="text" id="cityInput" placeholder="Enter your city/country"> <br>
        <button onclick="getWeather()">Search</button>
        
        <!-- Weather Display Section -->
        <div id="weatherResult" class="weather-display">
            <div id="loading" class="loading">üîç Searching...</div>
            <div id="weatherData" class="weather-data">
                <h2 id="cityName"></h2>
                <div class="temperature">
                    <span id="temp"></span>
                    <span id="weatherIcon"></span>
                </div>
                <p id="description"></p>
                <div class="weather-details">
                    <div class="detail-item">
                        <span>Feels like:</span>
                        <span id="feelsLike"></span>
                    </div>
                    <div class="detail-item">
                        <span>Humidity:</span>
                        <span id="humidity"></span>
                    </div>
                    <div class="detail-item">
                        <span>Wind Speed:</span>
                        <span id="windSpeed"></span>
                    </div>
                </div>
            </div>
            <div id="error" class="error"></div>
        </div>
    </div>
</center>

<script>
// Your OpenWeatherMap API key (you'll need to get this from openweathermap.org)
const API_KEY = 'f29c13cafad6ba968b801c84d0455469'; // Replace with your actual API key
const API_URL = 'https://api.openweathermap.org/data/2.5/weather';

// Function to get weather data
async function getWeather() {
    const cityInput = document.getElementById('cityInput');
    const city = cityInput.value.trim();
    
    if (!city) {
        showError('Please enter a city name');
        return;
    }
    
    // Show loading state
    showLoading();
    
    try {
        const response = await fetch(`${API_URL}?q=${city}&appid=${API_KEY}&units=metric`);
        const data = await response.json();
        
        if (response.ok) {
            displayWeather(data);
        } else {
            showError(data.message || 'City not found');
        }
    } catch (error) {
        showError('Unable to fetch weather data. Please check your internet connection.');
    }
}

// Function to display weather data
function displayWeather(data) {
    const weatherResult = document.getElementById('weatherResult');
    const weatherData = document.getElementById('weatherData');
    
    // Update weather information
    document.getElementById('cityName').textContent = `${data.name}, ${data.sys.country}`;
    document.getElementById('temp').textContent = `${Math.round(data.main.temp)}¬∞C`;
    document.getElementById('weatherIcon').textContent = getWeatherEmoji(data.weather[0].main);
    document.getElementById('description').textContent = data.weather[0].description.charAt(0).toUpperCase() + data.weather[0].description.slice(1);
    document.getElementById('feelsLike').textContent = `${Math.round(data.main.feels_like)}¬∞C`;
    document.getElementById('humidity').textContent = `${data.main.humidity}%`;
    document.getElementById('windSpeed').textContent = `${data.wind.speed} m/s`;
    
    // Show weather data and hide loading/error
    hideLoading();
    hideError();
    weatherData.style.display = 'block';
    weatherResult.style.display = 'block';
}

// Function to show loading state
function showLoading() {
    document.getElementById('loading').style.display = 'block';
    document.getElementById('weatherData').style.display = 'none';
    document.getElementById('error').style.display = 'none';
    document.getElementById('weatherResult').style.display = 'block';
}

// Function to hide loading state
function hideLoading() {
    document.getElementById('loading').style.display = 'none';
}

// Function to show error message
function showError(message) {
    const errorDiv = document.getElementById('error');
    errorDiv.textContent = message;
    errorDiv.style.display = 'block';
    document.getElementById('weatherData').style.display = 'none';
    document.getElementById('loading').style.display = 'none';
    document.getElementById('weatherResult').style.display = 'block';
}

// Function to hide error message
function hideError() {
    document.getElementById('error').style.display = 'none';
}

// Function to get weather emoji based on weather condition
function getWeatherEmoji(weatherMain) {
    const weatherEmojis = {
        'Clear': '‚òÄÔ∏è',
        'Clouds': '‚òÅÔ∏è',
        'Rain': 'üåßÔ∏è',
        'Drizzle': 'üå¶Ô∏è',
        'Thunderstorm': '‚õàÔ∏è',
        'Snow': '‚ùÑÔ∏è',
        'Mist': 'üå´Ô∏è',
        'Fog': 'üå´Ô∏è',
        'Haze': 'üå´Ô∏è'
    };
    return weatherEmojis[weatherMain] || 'üå§Ô∏è';
}

// Allow Enter key to trigger search
document.getElementById('cityInput').addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
        getWeather();
    }
});

// Hide weather result initially
document.getElementById('weatherResult').style.display = 'none';
</script>
</body>
<style>
    * {
        background-color: blue;
    }

    .input {
        margin-top: 50px;
        height: auto;
        min-height: 600px;
        width: 600px;
        border-radius: 20px;
        background-color: lightskyblue;
        box-shadow: 0px 1px 10px green;
        padding-bottom: 30px;
    }

    input {
        margin-top: 100px;
        border-radius: 30px;
        height: 50px;
        width: 500px;
        background-color: whitesmoke;
        color: darkgray;
        font-size: 20px;
        border: none;
        padding: 0 20px;
        outline: none;
    }

    input::placeholder {
        font-size: 20px
    }

    button {
        background-color: teal;
        color: black;
        margin-top: 30px;
        border-radius: 30px;
        height: 50px;
        width: 150px;
        border: none;
        font-size: 16px;
        font-weight: bold;
    }

    button:hover {
        height: 50px;
        width: 170px;
        background-color: blue;
        color: white;
        transition: ease-in-out 500ms;
        cursor: pointer;
    }

    /* Weather Display Styles */
    .weather-display {
        margin-top: 40px;
        width: 90%;
        background-color: transparent;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.3);
    }

    .loading {
        color: white;
        font-size: 18px;
        padding: 20px;
    }

    .weather-data {
        color: white;
        text-align: center;
    }

    .weather-data h2 {
        background-color: transparent;
        margin: 10px 0;
        font-size: 24px;
        color: white;
    }

    .temperature {
        background-color: transparent;
        font-size: 48px;
        margin: 20px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    .temperature span {
        background-color: transparent;
        color: white;
    }

    .weather-data p {
        background-color: transparent;
        font-size: 18px;
        margin: 15px 0;
        text-transform: capitalize;
        color: white;
    }

    .weather-details {
        background-color: transparent;
        display: flex;
        justify-content: space-around;
        margin-top: 20px;
        flex-wrap: wrap;
    }

    .detail-item {
        background-color: transparent;
        margin: 5px;
        text-align: center;
        color: white;
    }

    .detail-item span {
        background-color: transparent;
        display: block;
        color: white;
    }

    .detail-item span:first-child {
        font-size: 14px;
        opacity: 0.8;
        margin-bottom: 5px;
    }

    .detail-item span:last-child {
        font-size: 16px;
        font-weight: bold;
    }

    .error {
        color: #ff6b6b;
        font-size: 16px;
        padding: 20px;
        background-color: rgba(255, 107, 107, 0.1);
        border-radius: 10px;
        margin-top: 20px;
    }

    /* Responsive design */
    @media (max-width: 650px) {
        .input {
            width: 90%;
            margin: 20px auto;
        }
        
        input {
            width: 80%;
        }
        
        .weather-details {
            flex-direction: column;
        }
    }
</style>
</html>